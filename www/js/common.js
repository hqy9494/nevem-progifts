class parent{constructor(){this.baseUri="https://lkd.yooyuu.com.cn",this.baseUriApi=this.baseUri+"/api",this.windowUrl=window.location.href,this.origin=window.location.origin,this.params=this.getUrlParams()}getUrlParams(t){var r=t||this.windowUrl,e=r&&r.match(/([^?=&]+)=([^?&]+)/g);return e&&e.reduce(function(t,r){var e=r.split(/([^?=&]+)=([^?&]+)/g);return t[e[1]]=e[2],t},{})}fetch(t){const r=this.params&&this.params.token;var e=t.url+"?access_token="+r;return new Promise((r,a)=>{$.ajax({type:t.method,url:e,data:"get"===t.method?t.params:JSON.stringify(t.params),contentType:"application/json",success:function(t){r(t)},error:function(t,r){a(JSON.parse(t.response).error.message)}})}).catch(t=>alert(`错误信息: ${t}`))}getJSON({url:t}){return new Promise((r,e)=>{$.getJSON(t,function(t){r(t)})}).catch(t=>alert(`错误信息: ${t}`))}}document.addEventListener("DOMContentLoaded",function(){console.log("ready")});