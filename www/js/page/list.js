document.addEventListener("DOMContentLoaded",function(){new class extends parent{constructor(){super(),this.state={data:[],$list:$("#js-list")},this.init()}init(){this.load()}load(){this.fetchData().then(t=>{this.state.data=t,this.render(t),this.ready()})}ready(){this.state.$list.on("tap",t=>{const i=$(t.target).parents(".list-itemWrap")[0],e=$(i).data("detail");window.location.href=`./listDetail.html?img=${e}`})}fetchData(){return this.getJSON({url:"assets/p.json"})}createListFragment(t){let i=document.createDocumentFragment();return t.forEach(t=>{let e=`\n          <div class="list-itemWrap" data-detail="${t.detailPic}">\n            <div class="list-item">\n              <div class="list-imgWrap">\n                <img src="${t.mainPic}" alt="top"/>\n              </div>\n              <div class="list-name">${t.name}</div>\n              <div class="list-money">零售价：${t.price}</div>\n              <div class="list-btn">查看更多</div>\n            </div>\n          </div>\n        `;i.appendChild($(e)[0])}),i}render(t=[]){let i=this.createListFragment(t);this.state.$list.append(i)}}});