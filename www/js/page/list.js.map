{"version":3,"names":[],"mappings":"","sources":["page/list.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  class list extends parent {\n    constructor() {\n      super()\n      this.state = {\n        data: [],\n        $list: $('#js-list')\n      };\n      this.init()\n    }\n\n    init() {\n      this.load()\n    }\n\n    load() {\n      this.fetchData().then(res => {\n        this.state.data = res\n        this.render(res)\n\n        this.ready()\n      })\n    }\n    ready() {\n      this.state.$list.on('tap', (e) => {\n        const parent = $(e.target).parents('.list-itemWrap')[0]\n        const detail = $(parent).data('detail')\n\n        window.location.href = `./listDetail.html?img=${detail}`\n      })\n    }\n    fetchData() {\n      return this.getJSON({\n        url: `assets/p.json`,\n      })\n    }\n    createListFragment(arr){\n      let fragment = document.createDocumentFragment()\n      arr.forEach((v) => {\n        let html = `\n          <div class=\"list-itemWrap\" data-detail=\"${v.detailPic}\">\n            <div class=\"list-item\">\n              <div class=\"list-imgWrap\">\n                <img src=\"${v.mainPic}\" alt=\"top\"/>\n              </div>\n              <div class=\"list-name\">${v.name}</div>\n              <div class=\"list-money\">零售价：${v.price}</div>\n              <div class=\"list-btn\">查看更多</div>\n            </div>\n          </div>\n        `\n        fragment.appendChild($(html)[0])\n      })\n\n      return fragment\n    }\n    render(arr = []){\n      let fragment = this.createListFragment(arr)\n      this.state.$list.append(fragment)\n    }\n  }\n\n  new list()\n});\n"],"file":"list.js"}